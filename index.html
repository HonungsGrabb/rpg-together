<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Realm of Shadows - Roguelike RPG</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <!-- AUTH SCREEN -->
    <div id="auth-screen" class="screen">
        <div class="auth-container">
            <h1>‚öîÔ∏è Realm of Shadows ‚öîÔ∏è</h1>
            <p class="subtitle">An Infinite Roguelike Adventure</p>
            <div id="auth-message"></div>
            <div id="login-form" class="auth-form">
                <input type="email" id="login-email" placeholder="Email">
                <input type="password" id="login-password" placeholder="Password">
                <button id="login-btn" class="btn-primary">Login</button>
                <p>No account? <a href="#" id="show-register">Register</a></p>
            </div>
            <div id="register-form" class="auth-form hidden">
                <input type="email" id="register-email" placeholder="Email">
                <input type="password" id="register-password" placeholder="Password (6+ chars)">
                <button id="register-btn" class="btn-primary">Register</button>
                <p>Have account? <a href="#" id="show-login">Login</a></p>
            </div>
        </div>
    </div>

    <!-- SAVE SCREEN -->
    <div id="save-screen" class="screen hidden">
        <div class="save-container">
            <h1>‚öîÔ∏è Select Save ‚öîÔ∏è</h1>
            <div id="save-slots"></div>
            <button id="logout-btn" class="btn-secondary">Logout</button>
        </div>
    </div>

    <!-- RACE SELECTION -->
    <div id="race-screen" class="screen hidden">
        <div class="selection-container">
            <h2>Choose Your Race</h2>
            <div id="race-options" class="selection-grid"></div>
            <button id="race-back-btn" class="btn-secondary">Back</button>
        </div>
    </div>

    <!-- CLASS SELECTION -->
    <div id="class-screen" class="screen hidden">
        <div class="selection-container">
            <h2>Choose Your Class</h2>
            <div id="class-options" class="selection-grid"></div>
            <button id="class-back-btn" class="btn-secondary">Back</button>
        </div>
    </div>

    <!-- NAME INPUT -->
    <div id="name-screen" class="screen hidden">
        <div class="name-container">
            <h2>Name Your Character</h2>
            <p id="name-preview"></p>
            <input type="text" id="character-name" placeholder="Enter name..." maxlength="20">
            <div class="name-buttons">
                <button id="name-back-btn" class="btn-secondary">Back</button>
                <button id="start-game-btn" class="btn-primary">Begin Adventure</button>
            </div>
        </div>
    </div>

    <!-- GAME SCREEN -->
    <div id="game-screen" class="screen hidden">
        <header class="game-header">
            <div class="header-left">
                <span id="player-name-display"></span>
                <span id="player-class-badge"></span>
            </div>
            <div class="header-center">
                <span id="floor-display"></span>
                <span id="online-count" class="online-count">üë• 1</span>
            </div>
            <div class="header-right">
                <span id="gold-display"></span>
                <button id="menu-btn">‚ò∞</button>
            </div>
        </header>

        <main class="game-main">
            <!-- LEFT PANEL: Equipment -->
            <section class="equipment-section">
                <h3>‚öîÔ∏è Equipment</h3>
                <div id="equipment-panel" class="equipment-grid"></div>
                
                <h3>‚ú® Skills</h3>
                <div id="skills-panel" class="skills-list"></div>
            </section>

            <!-- CENTER: Map & Stats -->
            <section class="center-section">
                <div class="stats-bars">
                    <div class="stat-bar">
                        <label>‚ù§Ô∏è HP</label>
                        <div class="bar hp-bar-bg"><div id="hp-bar" class="bar-fill hp-bar-fill"></div></div>
                        <span id="hp-text"></span>
                    </div>
                    <div class="stat-bar">
                        <label>üíß MP</label>
                        <div class="bar mana-bar-bg"><div id="mana-bar" class="bar-fill mana-bar-fill"></div></div>
                        <span id="mana-text"></span>
                    </div>
                    <div class="stat-bar">
                        <label>‚≠ê XP</label>
                        <div class="bar xp-bar-bg"><div id="xp-bar" class="bar-fill xp-bar-fill"></div></div>
                        <span id="xp-text"></span>
                    </div>
                </div>

                <div class="stats-row">
                    <div class="stat-box"><span class="stat-label">‚öîÔ∏è Phys</span><span id="stat-phys" class="stat-value">0</span></div>
                    <div class="stat-box"><span class="stat-label">üîÆ Magic</span><span id="stat-magic" class="stat-value">0</span></div>
                    <div class="stat-box"><span class="stat-label">üõ°Ô∏è Def</span><span id="stat-def" class="stat-value">0</span></div>
                    <div class="stat-box"><span class="stat-label">‚ú® MRes</span><span id="stat-mres" class="stat-value">0</span></div>
                    <div class="stat-box"><span class="stat-label">üí® Spd</span><span id="stat-spd" class="stat-value">0</span></div>
                </div>
                
                <div class="damage-row">
                    <div class="dmg-box"><span>‚öîÔ∏è Wpn Phys:</span><span id="stat-pdmg">0</span></div>
                    <div class="dmg-box"><span>üîÆ Wpn Magic:</span><span id="stat-mdmg">0</span></div>
                </div>

                <div class="map-container">
                    <div id="map-grid" class="map-grid"></div>
                </div>
                
                <div class="controls-hint">WASD / Arrow Keys to move</div>
            </section>

            <!-- RIGHT PANEL: Inventory & Log & Chat -->
            <section class="inventory-section">
                <h3>üéí Inventory</h3>
                <div id="inventory-panel" class="inventory-grid"></div>
                
                <h3>üìú Log</h3>
                <div id="game-log" class="game-log"></div>
                
                <h3>üí¨ Chat</h3>
                <div id="chat-messages" class="chat-messages"></div>
                <div class="chat-input-row">
                    <input type="text" id="chat-input" placeholder="Press Enter to chat..." maxlength="100">
                    <button id="chat-send">‚Üí</button>
                </div>
            </section>
        </main>
    </div>

    <!-- ITEM DETAIL MODAL -->
    <div id="item-detail-modal" class="modal hidden">
        <div class="modal-content item-detail-content">
            <div class="item-detail-header">
                <span id="item-detail-emoji" class="item-emoji"></span>
                <div>
                    <h3 id="item-detail-name"></h3>
                    <span id="item-detail-type" class="item-type"></span>
                </div>
            </div>
            <p id="item-detail-desc"></p>
            <div id="item-detail-stats" class="item-stats"></div>
            <div id="item-detail-actions" class="item-actions"></div>
        </div>
    </div>

    <!-- COMBAT MODAL -->
    <div id="combat-modal" class="modal hidden">
        <div class="modal-content combat-content">
            <h2>‚öîÔ∏è Combat!</h2>
            <div class="combat-arena">
                <div class="combatant player-side">
                    <h3 id="combat-player-name">Player</h3>
                    <div class="combat-bar hp-bar-bg">
                        <div id="combat-player-hp" class="bar-fill hp-bar-fill"></div>
                    </div>
                    <span id="combat-player-hp-text"></span>
                    <div class="combat-bar mana-bar-bg">
                        <div id="combat-player-mana" class="bar-fill mana-bar-fill"></div>
                    </div>
                    <span id="combat-player-mana-text"></span>
                </div>
                <div class="vs">VS</div>
                <div class="combatant enemy-side">
                    <span id="combat-enemy-emoji" class="enemy-emoji"></span>
                    <h3 id="combat-enemy-name">Enemy</h3>
                    <div class="combat-bar enemy-bar-bg">
                        <div id="combat-enemy-hp" class="bar-fill enemy-bar-fill"></div>
                    </div>
                    <span id="combat-enemy-hp-text"></span>
                </div>
            </div>
            <div id="combat-log-modal" class="combat-log"></div>
            <div id="combat-spells" class="combat-spells"></div>
            <div class="combat-actions">
                <button id="btn-attack" class="btn-primary">‚öîÔ∏è Attack</button>
                <button id="btn-use-potion" class="btn-secondary">üß™ Potion</button>
                <button id="btn-flee" class="btn-danger">üí® Flee</button>
            </div>
        </div>
    </div>

    <!-- DEATH MODAL -->
    <div id="death-modal" class="modal hidden">
        <div class="modal-content death-content">
            <h2>üíÄ You Died</h2>
            <div id="death-stats"></div>
            <button id="btn-return-menu" class="btn-primary">Return to Menu</button>
        </div>
    </div>

    <!-- DUNGEON PROMPT -->
    <div id="dungeon-prompt-modal" class="modal hidden">
        <div class="modal-content prompt-content">
            <h2>üèöÔ∏è Dungeon Entrance</h2>
            <p>A dark passage leads underground. Enter?</p>
            <div class="prompt-buttons">
                <button id="btn-enter-dungeon" class="btn-primary">Enter Dungeon</button>
                <button id="btn-stay-outside" class="btn-secondary">Stay Outside</button>
            </div>
        </div>
    </div>

    <!-- STAIRS PROMPT -->
    <div id="stairs-modal" class="modal hidden">
        <div class="modal-content prompt-content">
            <h2>ü™ú Stairs Down</h2>
            <p>Descend to floor <span id="next-floor">2</span>?</p>
            <div class="prompt-buttons">
                <button id="btn-descend" class="btn-primary">Descend</button>
                <button id="btn-stay" class="btn-secondary">Stay</button>
            </div>
        </div>
    </div>

    <!-- EXIT PROMPT -->
    <div id="exit-modal" class="modal hidden">
        <div class="modal-content prompt-content">
            <h2>üö™ Dungeon Exit</h2>
            <p>Return to the surface?</p>
            <div class="prompt-buttons">
                <button id="btn-exit-dungeon" class="btn-primary">Exit Dungeon</button>
                <button id="btn-stay-dungeon" class="btn-secondary">Stay</button>
            </div>
        </div>
    </div>

    <!-- PAUSE MODAL -->
    <div id="pause-modal" class="modal hidden">
        <div class="modal-content pause-content">
            <h2>‚è∏Ô∏è Paused</h2>
            <button id="btn-resume" class="btn-primary">Resume</button>
            <button id="btn-save-quit" class="btn-secondary">Save & Quit</button>
        </div>
    </div>

    <script type="module" src="js/main.js"></script>
</body>
</html>
